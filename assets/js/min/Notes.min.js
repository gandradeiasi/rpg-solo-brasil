class Notes{static add(title){const id=0==lista_notas.length?0:parseInt(lista_notas[lista_notas.length-1].id)+1;lista_notas.push({id:id,title:title||"Nota",content:""}),Save.save(),Notes.render(),notes_box.querySelector(`.note[data-id="${id}"]`).click()}static remove(id){for(let i=0;i<lista_notas.length;i++)lista_notas[i].id==id&&lista_notas.splice(i,1);Save.save(),Notes.render()}static render(){notes_box.innerHTML='\n            <div class="add">\n                <div class="botao active hover" id="btn-adiciona-nota">\n                    <span class="plus">+</span> Adicionar Nota\n                </div>\n                <div class="input hover" id="add-input">\n                    <input id="add-input-title" type="text" placeholder="Título da nota">\n                    <button id="btn-adicionar">Adicionar</button>\n                </div>\n            </div>\n        ',lista_notas.forEach(x=>{notes_box.innerHTML+=`\n                <div data-id="${x.id}" class="note hover">\n                    <div>${x.title}</div>\n                    <button data-id="${x.id}" class="excluir-nota">Excluir</button>\n                </div>\n            `}),notes_box.querySelectorAll(".note").forEach(x=>{x.addEventListener("click",e=>{if(!e.path.some(y=>!!y.classList&&y.classList.contains("excluir-nota"))){const note=lista_notas.filter(y=>y.id==x.dataset.id)[0];Modal.abre(note.title,`\n                        <textarea data-id="${note.id}" class="current-note"  placeholder="Insira aqui suas anotações">\n                        </textarea>\n                    `);const txtarea=modal.querySelector(".current-note"),title=modal.querySelector(".title");title.setAttribute("contenteditable","true"),title.setAttribute("data-id",note.id),title.classList.add("note-title"),txtarea.value=note.content,txtarea.focus(),modal.querySelector(".fecha-modal").addEventListener("click",()=>{title.setAttribute("contenteditable","false"),title.setAttribute("data-id",""),Notes.render()})}})}),notes_box.querySelectorAll(".excluir-nota").forEach(x=>{x.addEventListener("click",e=>{Modal.abre("Excluir nota",`\n                <p>Deseja mesmo excluir essa nota?<p>\n                <div class="botoes-exclui">\n                    <button onclick="Modal.fecha()">Cancelar</button>\n                    <button onclick="Notes.remove(${e.path.filter(x=>!!x.dataset&&x.dataset.id)[0].dataset.id});Modal.fecha();">Excluir</button>\n                </div>`)})}),window.addEventListener("keyup",()=>{const element=document.activeElement;element.classList.contains("current-note")?(lista_notas.filter(x=>x.id==element.dataset.id)[0].content=element.value,Save.save()):element.classList.contains("note-title")&&(lista_notas.filter(x=>x.id==element.dataset.id)[0].title=element.innerText?element.innerText:"Nota",Save.save())});const btn_adiciona_nota=document.querySelector("#btn-adiciona-nota"),add_input_title=document.querySelector("#add-input-title"),add_input=document.querySelector("#add-input");btn_adiciona_nota.addEventListener("click",()=>{btn_adiciona_nota.classList.remove("active"),add_input.classList.add("active"),add_input_title.focus()}),document.querySelector("#btn-adicionar").addEventListener("click",()=>{add_input.classList.remove("active"),btn_adiciona_nota.classList.add("active"),Notes.add(add_input_title.value)})}}Notes.render();